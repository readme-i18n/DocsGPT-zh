---

title: 在 Railway 上托管 DocsGPT
description: 通过本分步教程学习如何在 Railway 上部署您自己的 DocsGPT 实例
---

# 在 Railway 上自托管 DocsGPT

以下是关于如何在 Railway App 上托管 DocsGPT 的逐步指南。

首先克隆并在本地设置项目以运行、测试和修改。

### 1. 克隆与 GitHub 设置

a. 打开终端（Windows Shell 或 Git bash（推荐））。

b. 输入 `git clone https://github.com/arc53/DocsGPT.git`

#### 下载包信息

克隆仓库完成后，需要从所有源下载包信息。为此，只需输入以下命令：

`sudo apt update`

#### 安装 Docker 和 Docker Compose

DocsGPT 后端和 worker 使用 Python，前端基于 React 编写，整个应用通过 Docker 容器化。要安装 Docker 和 Docker Compose，输入以下命令：

`sudo apt install docker.io`

现在安装 docker-compose：

`sudo apt install docker-compose`

#### 进入 DocsGPT 文件夹

输入以下命令进入包含 DocsGPT docker-compose 文件的文件夹。

`cd DocsGPT/`

#### 准备环境

在 DocsGPT 文件夹内创建 `.env` 文件，并将 `.env_sample` 的内容复制到其中。

`nano .env`

请确保你的 `.env` 文件内容如下：

```

OPENAI_API_KEY=(Your OpenAI API key)

VITE_API_STREAMING=true

SELF_HOSTED_MODEL=false

```

保存文件时，按 CTRL+X，然后按 Y，最后按 ENTER。

接下来，通过打开 docker-compose.yaml 文件设置正确的后端 IP：

`nano deployment/docker-compose.yaml`

并将第 7 行修改为：`VITE_API_HOST=http://localhost:7091`

改为 `VITE_API_HOST=http://<你的实例公网IP>:7091`

这将允许前端连接到后端。

#### 运行应用程序

即将完成！现在所有必要的组件都已安装，是时候运行应用程序了。使用以下命令：

`sudo docker compose -f deployment/docker-compose.yaml up -d`

首次启动需要几分钟时间来下载所有必要的依赖项并进行构建。

完成后，你可以关闭终端窗口。

### 2. 推送到你自己的代码仓库

a. 在你的 GitHub 上创建一个仓库。

b. 在克隆项目的同一目录下打开终端。

c. 输入 `git init`

d. `git add .`

e. `git commit -m "first-commit"`

f. `git remote add origin <你的仓库链接>`

g. `git push git push --set-upstream origin master`

现在你的本地文件将被推送到 GitHub 账户。 :)

### 3. 创建 Railway 账户：

如果尚未操作，请访问 [Railway](https://railway.app/) 创建或登录您的 Railway 账户

通过 **GitHub** 注册 [推荐方式]

### 4. 新建项目:

a. 打开 Railway 应用并点击 "Start New Project"

b. 从可选列表中选择任一方式 (推荐选择 "**Deploy from GitHub Repo**")

c. 从您的 GitHub 中选择所需仓库

d. 在弹出窗口中配置并允许修改 GitHub 内容的权限

e. 同意所有条款与条件

注：账户设置可能需要数分钟完成

#### 您将获得 $5 免费试用额度 (可用于测试，满意后再按需购买)

### 5. 将 Railway 应用连接至 GitHub

a. 从 GitHub 仓库列表中选择要立即部署的 DocsGPT 仓库

b. 点击 "Deploy now"

![将显示三个选项卡](/Railway-selection.png)

c. 选择 Variables 选项卡

d. 上传本地设置时使用的 env 文件

e. 现在转到 Settings 选项卡

f. 进入 "Networking" 并点击 Generate Domain Name 获取项目托管 URL

g. 可根据需要更新根目录、构建命令和安装命令

*[若非必要，建议保持这些选项为默认值]*

您自己的 DocsGPT 现已可在生成的域名 URL 上使用。 :)